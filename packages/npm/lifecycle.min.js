// Generated by CoffeeScript 1.3.3

/*
  Lifecycle.js 1.0.1
  (c) 2011, 2012 Kevin Malakoff.
  Lifecycle is freely distributable under the MIT license.
  https:#github.com/kmalakoff/Lifecycle

 Note: some code from Backbone.js is repeated in this file.
 Please see the following for details on Backbone.js and its licensing:
   https:github.com/documentcloud/backbone
   https:github.com/documentcloud/backbone/blob/master/LICENSE
*/(function(){var LC,copyProps,isArray;LC=this.LC=typeof exports!="undefined"?exports:{},LC.VERSION="1.0.1",isArray=function(obj){return obj.constructor===Array},copyProps=function(dest,source){var key,value;for(key in source)value=source[key],dest[key]=value;return dest};var ctor=function(){},inherits=function(parent,protoProps,staticProps){var child;return protoProps&&protoProps.hasOwnProperty("constructor")?child=protoProps.constructor:child=function(){parent.apply(this,arguments)},copyProps(child,parent),ctor.prototype=parent.prototype,child.prototype=new ctor,protoProps&&copyProps(child.prototype,protoProps),staticProps&&copyProps(child,staticProps),child.prototype.constructor=child,child.__super__=parent.prototype,child},extend=function(protoProps,classProps){var child=inherits(this,protoProps,classProps);return child.extend=this.extend,child};LC.own=function(obj,options){var clone,key,value,_i,_j,_len,_len1;if(!obj||typeof obj!="object")return obj;options||(options={});if(isArray(obj)){if(options.share_collection){for(_i=0,_len=obj.length;_i<_len;_i++)value=obj[_i],LC.own(value,{prefer_clone:options.prefer_clone});return obj}clone=[];for(_j=0,_len1=obj.length;_j<_len1;_j++)value=obj[_j],clone.push(LC.own(value,{prefer_clone:options.prefer_clone}));return clone}if(options.properties){if(options.share_collection){for(key in obj)value=obj[key],LC.own(value,{prefer_clone:options.prefer_clone});return obj}clone={};for(key in obj)value=obj[key],clone[key]=LC.own(value,{prefer_clone:options.prefer_clone});return clone}return obj.retain?options.prefer_clone&&obj.clone?obj.clone():obj.retain():obj.clone?obj.clone():obj},LC.disown=function(obj,options){var index,key,value,_i,_len;options==null&&(options={});if(!obj||typeof obj!="object")return obj;if(isArray(obj))if(options.clear_values)for(index in obj)value=obj[index],LC.disown(value,{clear_values:options.clear_values}),obj[index]=null;else{for(_i=0,_len=obj.length;_i<_len;_i++)value=obj[_i],LC.disown(value,{remove_values:options.remove_values});options.remove_values&&(obj.length=0)}else if(options.properties)if(options.clear_values)for(key in obj)value=obj[key],LC.disown(value,{clear_values:options.clear_values}),obj[key]=null;else for(key in obj)value=obj[key],LC.disown(value,{remove_values:options.remove_values}),delete obj[key];else obj.release?obj.release():obj.destroy&&obj.destroy();return obj},LC.RefCountable=function(){function RefCountable(){this.__LC||(this.__LC={}),this.__LC.ref_count=1}return RefCountable.extend=extend,RefCountable.prototype.__destroy=function(){},RefCountable.prototype.retain=function(){if(this.__LC.ref_count<=0)throw"RefCountable: ref_count is corrupt: "+this.__LC.ref_count;return this.__LC.ref_count++,this},RefCountable.prototype.release=function(){if(this.__LC.ref_count<=0)throw"RefCountable: ref_count is corrupt: "+this.__LC.ref_count;return this.__LC.ref_count--,this.__LC.ref_count||this.__destroy(),this},RefCountable.prototype.refCount=function(){return this.__LC.ref_count},RefCountable}()}).call(this);